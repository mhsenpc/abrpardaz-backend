{
    "openapi": "3.0.0",
    "info": {
        "title": "Abrpardaz API",
        "description": "This is the official API which can be used by any user",
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "http://localhost/api/v1",
            "description": "Local server"
        },
        {
            "url": "http://abrpardaz.com/api/v1",
            "description": "The API endpoint"
        }
    ],
    "paths": {
        "/auth/register": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Register a new user",
                "description": "",
                "operationId": "App\\Http\\Controllers\\V1\\AuthController::register",
                "parameters": [
                    {
                        "name": "email",
                        "in": "query",
                        "description": "",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "password",
                        "in": "query",
                        "description": "",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "default": {
                        "description": "successful operation"
                    }
                }
            }
        },
        "/auth/login": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Login a new user",
                "description": "",
                "operationId": "App\\Http\\Controllers\\V1\\AuthController::login",
                "parameters": [
                    {
                        "name": "email",
                        "in": "query",
                        "description": "",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "password",
                        "in": "query",
                        "description": "",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "default": {
                        "description": "successful operation"
                    }
                }
            }
        },
        "/auth/forgetPassword": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Send a password reset link to the email",
                "description": "",
                "operationId": "App\\Http\\Controllers\\V1\\AuthController::forgetPassword",
                "parameters": [
                    {
                        "name": "email",
                        "in": "query",
                        "description": "",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "default": {
                        "description": "successful operation"
                    }
                }
            }
        },
        "/auth/resetPassword": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Changes the password using the provided token",
                "description": "",
                "operationId": "App\\Http\\Controllers\\V1\\AuthController::resetPassword",
                "parameters": [
                    {
                        "name": "email",
                        "in": "query",
                        "description": "",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "token",
                        "in": "query",
                        "description": "",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "password",
                        "in": "query",
                        "description": "",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "password_confirmation",
                        "in": "query",
                        "description": "",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "default": {
                        "description": "successful operation"
                    }
                }
            }
        },
        "/auth/logout": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Removes your token",
                "description": "",
                "operationId": "App\\Http\\Controllers\\V1\\AuthController::logout",
                "responses": {
                    "default": {
                        "description": "successful operation"
                    }
                }
            }
        },
        "/images/os": {
            "get": {
                "tags": [
                    "Image"
                ],
                "summary": "List all operating systems",
                "description": "",
                "operationId": "App\\Http\\Controllers\\V1\\ImageController::os",
                "responses": {
                    "default": {
                        "description": "List of operating system"
                    }
                }
            }
        },
        "/machines/list": {
            "get": {
                "tags": [
                    "Machine"
                ],
                "summary": "List Your machines",
                "description": "",
                "operationId": "App\\Http\\Controllers\\V1\\MachineController::index",
                "responses": {
                    "default": {
                        "description": "returns a list of machines"
                    }
                }
            }
        },
        "/machines/createFromImage": {
            "post": {
                "tags": [
                    "Machine"
                ],
                "summary": "Create a new machine from an image",
                "description": "",
                "operationId": "App\\Http\\Controllers\\V1\\MachineController::createFromImage",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "",
                        "required": true,
                        "schema": {
                            "type": "int"
                        }
                    }
                ],
                "responses": {
                    "default": {
                        "description": ""
                    }
                }
            }
        },
        "/machines/{id}/console": {
            "get": {
                "tags": [
                    "Machine"
                ],
                "summary": "Get console url of the machine ",
                "description": "",
                "operationId": "App\\Http\\Controllers\\V1\\MachineController::console",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "",
                        "required": true,
                        "schema": {
                            "type": "int"
                        }
                    }
                ],
                "responses": {
                    "default": {
                        "description": ""
                    }
                }
            }
        },
        "/machines/{id}/powerOn": {
            "post": {
                "tags": [
                    "Machine"
                ],
                "summary": "powers on the machine ",
                "description": "",
                "operationId": "App\\Http\\Controllers\\V1\\MachineController::powerOn",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "",
                        "required": true,
                        "schema": {
                            "type": "int"
                        }
                    }
                ],
                "responses": {
                    "default": {
                        "description": ""
                    }
                }
            }
        },
        "/machines/{id}/powerOff": {
            "post": {
                "tags": [
                    "Machine"
                ],
                "summary": "powers off the machine ",
                "description": "",
                "operationId": "App\\Http\\Controllers\\V1\\MachineController::powerOff",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "",
                        "required": true,
                        "schema": {
                            "type": "int"
                        }
                    }
                ],
                "responses": {
                    "default": {
                        "description": ""
                    }
                }
            }
        },
        "/machines/{id}/takeSnapshot": {
            "post": {
                "tags": [
                    "Machine"
                ],
                "summary": "Take snapshot from a machine",
                "description": "",
                "operationId": "App\\Http\\Controllers\\V1\\MachineController::takeSnapshot",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "",
                        "required": true,
                        "schema": {
                            "type": "int"
                        }
                    },
                    {
                        "name": "name",
                        "in": "query",
                        "description": "The name you want to put on the snapshot",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "default": {
                        "description": ""
                    }
                }
            }
        },
        "/machines/{id}/rename": {
            "put": {
                "tags": [
                    "Machine"
                ],
                "summary": "Change the name of a machine",
                "description": "",
                "operationId": "App\\Http\\Controllers\\V1\\MachineController::rename",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "",
                        "required": true,
                        "schema": {
                            "type": "int"
                        }
                    },
                    {
                        "name": "name",
                        "in": "query",
                        "description": "The new name you want to put on the machine",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "default": {
                        "description": ""
                    }
                }
            }
        },
        "/machines/{id}/remove": {
            "delete": {
                "tags": [
                    "Machine"
                ],
                "summary": "Removes the machine ",
                "description": "",
                "operationId": "App\\Http\\Controllers\\V1\\MachineController::remove",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "",
                        "required": true,
                        "schema": {
                            "type": "int"
                        }
                    }
                ],
                "responses": {
                    "default": {
                        "description": ""
                    }
                }
            }
        },
        "/plans/list": {
            "get": {
                "tags": [
                    "Plan"
                ],
                "summary": "List all plans",
                "description": "",
                "operationId": "App\\Http\\Controllers\\V1\\PlanController::index",
                "responses": {
                    "default": {
                        "description": "List of plans"
                    }
                }
            }
        },
        "/sshKeys/list": {
            "get": {
                "tags": [
                    "Ssh key"
                ],
                "summary": "List all ssh keys that belong to the current user",
                "description": "",
                "operationId": "App\\Http\\Controllers\\V1\\SSHKeyController::index",
                "responses": {
                    "default": {
                        "description": "List of ssh keys"
                    }
                }
            }
        },
        "/sshKeys/add": {
            "post": {
                "tags": [
                    "Ssh key"
                ],
                "summary": "Add a ssh key to your profile",
                "description": "",
                "operationId": "App\\Http\\Controllers\\V1\\SSHKeyController::add",
                "parameters": [
                    {
                        "name": "name",
                        "in": "query",
                        "description": "",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "content",
                        "in": "query",
                        "description": "",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "default": {
                        "description": "successful operation"
                    }
                }
            }
        },
        "/sshKeys/edit": {
            "put": {
                "tags": [
                    "Ssh key"
                ],
                "summary": "Edit a ssh key using its id",
                "description": "",
                "operationId": "App\\Http\\Controllers\\V1\\SSHKeyController::edit",
                "parameters": [
                    {
                        "name": "id",
                        "in": "query",
                        "description": "",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "name",
                        "in": "query",
                        "description": "",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "content",
                        "in": "query",
                        "description": "",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "default": {
                        "description": "successful operation"
                    }
                }
            }
        },
        "/sshKeys/remove": {
            "delete": {
                "tags": [
                    "Ssh key"
                ],
                "summary": "Remove a ssh key using it",
                "description": "",
                "operationId": "App\\Http\\Controllers\\V1\\SSHKeyController::remove",
                "parameters": [
                    {
                        "name": "id",
                        "in": "query",
                        "description": "",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "default": {
                        "description": "successful operation"
                    }
                }
            }
        },
        "/snapshots/list": {
            "get": {
                "tags": [
                    "Snapshot"
                ],
                "summary": "List all snapshots of your account",
                "description": "",
                "operationId": "App\\Http\\Controllers\\V1\\SnapshotController::index",
                "responses": {
                    "default": {
                        "description": "List of all your snapshots"
                    }
                }
            }
        },
        "/snapshots/ofMachine": {
            "get": {
                "tags": [
                    "Snapshot"
                ],
                "summary": "List snapshots of a specific machine",
                "description": "",
                "operationId": "App\\Http\\Controllers\\V1\\SnapshotController::ofMachine",
                "parameters": [
                    {
                        "name": "machine_id",
                        "in": "query",
                        "description": "id of the machine your want its snapshots",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "default": {
                        "description": "List snapshots of a specific machine"
                    }
                }
            }
        },
        "/snapshots/{id}/rename": {
            "put": {
                "tags": [
                    "Snapshot"
                ],
                "summary": "Rename a snapshot",
                "description": "",
                "operationId": "App\\Http\\Controllers\\V1\\SnapshotController::rename",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "id of the snapshot",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "name",
                        "in": "query",
                        "description": "new name of the snapshot",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "default": {
                        "description": "result"
                    }
                }
            }
        },
        "/snapshots/{id}/remove": {
            "delete": {
                "tags": [
                    "Snapshot"
                ],
                "summary": "Removes the snapshot",
                "description": "",
                "operationId": "App\\Http\\Controllers\\V1\\SnapshotController::remove",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "id of the snapshot",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "default": {
                        "description": "result"
                    }
                }
            }
        },
        "/tickets/list": {
            "get": {
                "tags": [
                    "Ticket"
                ],
                "summary": "Returns the list of your tickets",
                "description": "",
                "operationId": "App\\Http\\Controllers\\V1\\TicketController::index",
                "responses": {
                    "default": {
                        "description": "successful operation"
                    }
                }
            }
        },
        "/tickets/newTicket": {
            "post": {
                "tags": [
                    "Ticket"
                ],
                "summary": "Crates a new ticket",
                "description": "",
                "operationId": "App\\Http\\Controllers\\V1\\TicketController::newTicket",
                "parameters": [
                    {
                        "name": "title",
                        "in": "query",
                        "description": "",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "priority",
                        "in": "query",
                        "description": "",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "message",
                        "in": "query",
                        "description": "",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "machine",
                        "in": "query",
                        "description": "",
                        "required": true,
                        "schema": {
                            "type": "int"
                        }
                    },
                    {
                        "name": "category",
                        "in": "query",
                        "description": "",
                        "required": true,
                        "schema": {
                            "type": "int"
                        }
                    }
                ],
                "responses": {
                    "default": {
                        "description": "successful operation"
                    }
                }
            }
        },
        "/tickets/{id}/newReply": {
            "post": {
                "tags": [
                    "Ticket"
                ],
                "summary": "Insert reply for a ticket",
                "description": "",
                "operationId": "App\\Http\\Controllers\\V1\\TicketController::newReply",
                "parameters": [
                    {
                        "name": "comment",
                        "in": "query",
                        "description": "",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "id",
                        "in": "path",
                        "description": "",
                        "required": true,
                        "schema": {
                            "type": "int"
                        }
                    }
                ],
                "responses": {
                    "default": {
                        "description": "successful operation"
                    }
                }
            }
        },
        "/tickets/{id}/close": {
            "put": {
                "tags": [
                    "Ticket"
                ],
                "summary": "Closes a ticket",
                "description": "",
                "operationId": "App\\Http\\Controllers\\V1\\TicketController::close",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "",
                        "required": true,
                        "schema": {
                            "type": "int"
                        }
                    }
                ],
                "responses": {
                    "default": {
                        "description": "successful operation"
                    }
                }
            }
        },
        "/tickets/{id}/show": {
            "get": {
                "tags": [
                    "Ticket"
                ],
                "summary": "Show a ticket information",
                "description": "",
                "operationId": "App\\Http\\Controllers\\V1\\TicketController::show",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "",
                        "required": true,
                        "schema": {
                            "type": "int"
                        }
                    }
                ],
                "responses": {
                    "default": {
                        "description": "successful operation"
                    }
                }
            }
        }
    },
    "components": {
        "securitySchemes": {
            "bearerAuth": {
                "type": "http",
                "description": "Login and copy the token into the below box",
                "bearerFormat": "JWT",
                "scheme": "bearer"
            }
        }
    }
}